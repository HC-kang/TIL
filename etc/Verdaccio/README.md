# Verdaccio로 사내 프록시 레지스트리 구축하기 - 커스텀 모듈 사용을 위한 프록시 레지스트리 구축

## 발단

현재 업무에서 사용하는 라이브러리 중, 몇몇 라이브러리는 도메인에 맞도록 혹은 성능 개선을 위해 커스텀해서 사용중인데요.   
이러한 모듈이 점차 많아지면서 전체 node_modules를 관리하기가 어려워졌습니다.  

이 문제를 해결하기 위해 아래와 같은 방법들을 고려해 보았습니다.

### 고려한 방법들

1. 압축파일로 관리한다.
2. GitHub에 올려 Git Dependencies로 관리한다.
3. 프라이빗 프록시 레지스트리를 구축한다.

이 중 마지막 세번째 방법을 선택했습니다.  
이유는 아래와 같습니다.

1. 압축파일로 관리하는 경우
   1. 모듈을 추가하거나 삭제할 때마다 압축파일을 수정해야 하는 번거로움이 있습니다.  
   2. 특히 수정이 가해질수록 버전 관리가 어렵고, '내가 설치한 모듈이 정확히 어느 버전인지' 파악하기 어렵습니다.  
2. GitHub에 올려 Git Dependencies로 관리하는 경우
   1. 버전 관리가 상대적으로 명확하지만, 지속적으로 레포지토리와 브랜치를 관리해야 하는 추가 작업이 발생합니다.
   2. 무엇보다 프라이빗 레포에서 패키지를 설치하기 위해 인증 및 권한 관리 등 별도의 설정이 필요합니다.  
3. 프라이빗 프록시 레지스트리를 구축하는 경우
   1. 프록시 서버에 대한 관리소요가 발생하긴 하지만, 한번 구축된 후에는 복잡한 관리 없이 패키지를 간편하게 배포할 수 있습니다.
   2. 기존에 사용하던 npm과 완전히 동일한 방식으로 사용하기에, 다른 개발자들이 쉽게 적응할 수 있습니다.
   3. 또한 사내망을 사용하므로, 프록시 서버에 대한 별도의 인증 및 권한 관리가 필요하지 않습니다.
   4. 더불어 각종 모듈에 대한 캐싱 효과도 있습니다.

### 최종 선택 및 기대 효과

이러한 이유로 세 번째 방법인 **프라이빗 프록시 레지스트리 구축(Verdaccio)**을 선택했습니다.  

이 선택을 통해 다음과 같은 기대 효과를 얻고자 합니다.  

1. 모듈 관리를 단순화하여 개발자의 생산성 향상
2. 명확한 버전 관리와 손쉬운 배포 환경 구축
3. npm 생태계와 동일한 방식으로 운영하여 협업 과정에서의 혼란 최소화
4. 모듈 캐싱을 통한 개발자 작업 효율 향상

이 글에서는 Verdaccio를 사용하여 사내 프록시 레지스트리를 구축한 과정과 경험을 공유하고자 합니다.  
