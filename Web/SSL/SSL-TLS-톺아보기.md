# SSL/TLS

- SSL(Secure Socket Layer)
- TLS(Transport Layer Security)

## Cryptography

### Symmetric Key Cryptography

- AES(Advanced Encryption Standard)

- Master Secret
- Pre Master Secret

- SNI(Server Name Indication)

### Asymmetric Key Cryptography

- RSA(Rivest-Shamir-Adleman)
- DSA(Digital Signature Algorithm)
- Public Key
- Private Key

### λΉ„λ„(Strength of Cryptography)

- 64bit: 2^64
- 128bit: 2^128
- 256bit: 2^256
- 512bit: 2^512

- RSA(Rivest-Shamir-Adleman)

## PKI(Public Key Infrastructure)

- R.A.(Root Authority, Registration Authority)
- C.A.(Certificate Authority)
- R.A. -> C.A. -> User: Certificate Chain

## Ethernet (TCP/IP)

---

# SSL/TLS ν†Ίμ•„λ³΄κΈ°: μ›Ή λ³΄μ•μ ν•µμ‹¬

μ•λ…•ν•μ„Έμ”!  
μ¤λμ€ μ΄μ „μ— λ‹¤λ£¨μ—λ HTTPμ— μ΄μ–΄μ„ μ›Ή λ³΄μ•μ μ¤‘μ”ν• μ¶•μ„ λ‹΄λ‹Ήν•λ” SSL/TLSμ— λ€ν•΄ μ΅°κΈ κΉμ΄μκ² λ‹¤λ£¨μ–΄λ³΄λ ¤κ³  ν•©λ‹λ‹¤.  
κΈ°μ μ μΈ λ‚΄μ©μ„ λ‹¤λ£¨κΈ° λ•λ¬Έμ—, μ΄ν•΄κ°€ μ–΄λ ¤μ΄ λ¶€λ¶„μ΄ μμ„ μ μλ”λ°μ”, μ΄λ¥Ό μµλ€ν• μ‰½κ² μ„¤λ…ν•κ³ μ λ…Έλ ¥ν•κ² μµλ‹λ‹¤. νΉμ‹λΌλ„ ν‹€λ¦° λ¶€λ¶„μ΄λ‚, κ¶κΈν• μ μ΄ μμΌμ‹λ‹¤λ©΄ μ–Έμ λ“ μ§€ μ§λ¬Έν•΄ μ£Όμ„Έμ”!  

κ°λ°μλ΅ μΌν•κ³  κ³„μ‹ λ¶„λ“¤μ΄λΌλ©΄ λ‹¤λ“¤ SSL/TLSμ— λ€ν•΄μ„ λ€λµμ μΌλ΅λ” μ•κ³  κ³„μ‹¤ κ²ƒμ…λ‹λ‹¤. μ”μ¦μ—λ” HTTPSλ¥Ό μ‚¬μ©ν•μ§€ μ•μΌλ©΄ μ–΄μ§€κ°„ν• μ„λΉ„μ¤λ” λ¶λ²•μ΄κ±°λ“ μ”. κ·Έλ ‡λ‹¤λ©΄, SSL/TLSκ°€ λ¬΄μ—‡μΈμ§€, μ–΄λ–»κ² μ‘λ™ν•λ”μ§€, μ™ μ΄κ²ƒμ΄ μ¤‘μ”ν•μ§€ μ•μ•„λ³΄λ„λ΅ ν•κ² μµλ‹λ‹¤.

## SSLκ³Ό TLS: μ΄ λ‘κ°€μ§€ μ΄λ¦„μ€ λ¬΄μ—‡μΌκΉ?

`SSL`κ³Ό `TLS`λ” κ°κ° `Secure Socket Layer`μ™€ `Transport Layer Security`μ μ•½μμ…λ‹λ‹¤. λ‘λ‹¤ λ­ λΉ„μ·ν• μλ―Έλ¥Ό ν’κ³ μκ³ , μ‹¤μ λ΅ λ§μ€ κ²½μ°μ— μ΄λ¥Ό νΌμ©ν•κ³ μμµλ‹λ‹¤.  
μ΄λ¥Ό κµ³μ΄ λ”°μ Έλ³΄μλ©΄ λ§μΉ `νΈμΉν‚¤μ¤`μ™€ `μ¤ν…μ΄ν”λ¬`μ μ°¨μ΄κ°™λ‹¤κ³  ν•  μ μμµλ‹λ‹¤. μ™λƒν•λ©΄, `SSL`μ€ 1990λ…„λ€ μ¤‘λ°μ— λ„·μ¤μΌ€μ΄ν”„μ— μν•΄ κ°λ°λμ—κ³ , μ΄ν›„ `TLS`λ΅ λ°μ „ν•κ² λμ—κΈ° λ•λ¬Έμ…λ‹λ‹¤. 
TLSλ” SSL 3.0μ„ κΈ°λ°μΌλ΅ λ§λ“¤μ–΄μ΅μ§€λ§, λ” λ†’μ€ λ³΄μ•μ„±κ³Ό μ„±λ¥μ„ μ κ³µν•©λ‹λ‹¤. 1999λ…„ IETF(Internet Engineering Task Force)μ— μν•΄ ν‘μ¤€ν™”λ μ΄ν›„, TLSλ” ν„μ¬ μΈν„°λ„· λ³΄μ•μ—μ„ ν‘μ¤€μΌλ΅ μλ¦¬ μ΅κ³  μμµλ‹λ‹¤.

μ¦‰, **SSLμ€ λ¨Όμ € κ°λ°λ ν•λ‚μ μ ν’**μ΄κ³ , **TLSλ” μ΄κ²ƒμ΄ κ·κ²©ν™”λ ν•λ‚μ ν‘μ¤€ ν”„λ΅ν† μ½**μ΄λΌκ³  ν•  μ μμµλ‹λ‹¤.

> **μ„±κ³µν• μ ν’** : **μ‚°μ—… ν‘μ¤€**  
> SSL : TLS  
> νΈμΉν‚¤μ¤ : μ¤ν…μ΄ν”λ¬  
> ν¬ν¬λ μΈ : κµ΄μ‚­κΈ°  

κ²°λ΅ μ μΌλ΅, μ—„λ°€ν λ”°μ§€λ©΄ ν„μ¬ μ‚¬μ©λλ” κ²ƒμ€ TLSμ΄μ§€λ§, SSLμ΄λΌκ³  λ¶€λ¥΄λ” κ²½μ°λ„ λ§μµλ‹λ‹¤. λ‹¤λ§ μ΄ κΈ€μ—μ„λ” μ΄λ“¤λ³΄λ‹¤, HTTPμ— SSL/TLSκ°€ μ μ©λ HTTPSλ¥Ό λ” λ§μ΄ μ–ΈκΈ‰ν•  κ²ƒμ…λ‹λ‹¤.

## HTTPS, HTTPμ— λ³΄μ•μ„ λ”ν• κ²ƒ

λ‹¤μμΌλ΅ μ•μ•„λ³Ό κ²ƒμ€, μ΄λ² κΈ€μ λ³Έκ²©μ μΈ μ£Όμ μΈ HTTPSμ…λ‹λ‹¤.  
HTTPSλ” HTTP(Hyper Text Transfer Protocol) + S(Secure)λ΅, λ‹¤λ“¤ μ•„μ‹κ³  μ§μ‘ν•μ…¨λ‹¤ μ‹ν”Ό HTTPμ— λ³΄μ•μ„ λ”ν• κ²ƒμ…λ‹λ‹¤. 

κΈ°μ΅΄ HTTPλ” λ°μ΄ν„°λ¥Ό ν‰λ¬ΈμΌλ΅ μ „μ†΅ν•κΈ° λ•λ¬Έμ—, μ¤‘κ°„μ— λ„κµ°κ°€κ°€ λ°μ΄ν„°λ¥Ό κ°€λ΅μ±„μ–΄ λ³Ό μ μμµλ‹λ‹¤. μ΄λ¥Ό λ°©μ§€ν•κΈ° μ„ν•΄, HTTPSλ” λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•μ—¬ μ „μ†΅ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ¤‘κ°„μ— λ„κµ°κ°€κ°€ λ°μ΄ν„°λ¥Ό κ°€λ΅μ±„μ–΄λ„, λ°μ΄ν„°λ¥Ό ν•΄λ…ν•  μ μ—†κ² λ©λ‹λ‹¤.

κ·Έλ ‡λ‹¤λ©΄ μ΄λ¬ν• λ³΄μ•μ„ μ •ν™•ν μ–΄λ–»κ² κµ¬ν„ν•λ” κ²ƒμΌκΉμ”?

![alt text](images/windtalker.png)
  - μν™” "μλ“ν† μ»¤", μ†μμ μΈλ””μ–Έλ§μ΄ μ‚¬μ©ν•λ” μ–Έμ–΄λ¥Ό μ•”νΈ ν†µμ‹ μ μλ‹¨μΌλ΅ μ‚¬μ©ν•λ” μ „μ μν™”

λ¬Όλ΅  μ΄λ¬ν• μ•”νΈ ν†µμ‹ μ„ μ„ν• λ°©λ²•μ€ μλ„μ—†μ΄ λ§μµλ‹λ‹¤. μ•½μ†λ κ·Έλ“¤λ§μ μ–Έμ–΄λ¥Ό μ‚¬μ©ν•  μλ„ μκ³ , νΉμ •ν• λ„μ„λ‚ μ¶νλ¬Όμ„ μ‚¬μ©ν• μ•½μ†μ„ ν†µν•΄ μ•”νΈν™”λ¥Ό ν•  μλ„ μμµλ‹λ‹¤.
μ‹¤μ λ΅ μ  κ³Όκ±° κµ° κ²½ν—μ„ μλ΅ λ“¤μ–΄λ³΄μλ©΄, κµ°λ€μ—λ” CEOIλΌλ” κ²ƒμ΄ μμµλ‹λ‹¤. λ‹¨μν μΆ…μ΄ ν• μ¥μ— μ•”νΈν™” λ° λ³µνΈν™”λ¥Ό μ„ν• μ•½μ†(ν‚¤)κ°€ μ£Όμ± μ ν€μμ„ λΏμΈλ°, μ΄κ²ƒλ§μΌλ΅λ„ μ•”νΈν™” ν†µμ‹ μ„ ν•  μ μμµλ‹λ‹¤.

### κ°€μ¥ λ‹¨μν•κ³  μ‰¬μ΄ λ°©λ²•: λ€μΉ­ν‚¤(Symmetric Key) μ•”νΈν™”

![alt text](images/symmetric.png)

HTTPSμ—μ„ μ‚¬μ©ν•λ” λ°©μ‹λ„ μ΄μ™€ λΉ„μ·ν•©λ‹λ‹¤. μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ νΉμ •ν• ν‚¤(λ€μΉ­ν‚¤)λ¥Ό κ³µμ ν•κ³  μ΄λ¥Ό λ°”νƒ•μΌλ΅ μ‹¤μ  ν†µμ‹ μ—λ” μ΄ ν‚¤λ¥Ό μ‚¬μ©ν•΄ ν•΄μ‹±(μ•”νΈν™”)λ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›μµλ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ¤‘κ°„μ— λ„κµ°κ°€κ°€ λ°μ΄ν„°λ¥Ό κ°€λ΅μ±„μ–΄λ„, ν‚¤λ¥Ό κ°€μ§€κ³ μμ§€ μ•λ‹¤λ©΄ λ°μ΄ν„°λ¥Ό ν•΄λ…ν•  μ μ—†κ² λ©λ‹λ‹¤.

ν•μ§€λ§ μ—¬κΈ°μ—λ” ν•κ°€μ§€ ν° λ¬Έμ κ°€ μμµλ‹λ‹¤.

> **κ·Έλ°λ°.. κ·Έ λ€μΉ­ν‚¤λ” μ–΄λ–»κ² μ•μ „ν•κ² κ³µμ ν•μ§€?**

λ„¤ λ§μµλ‹λ‹¤. λ€μΉ­ν‚¤λ” μ–‘μ½μ΄ λ™μΌν• ν‚¤λ¥Ό κ°€μ§€κ³  μμ–΄μ•Ό ν•©λ‹λ‹¤. κ·Έ ν‚¤λ¥Ό ν΄λΌμ΄μ–ΈνΈκ°€ λ§λ“¤κ±΄, μ„λ²„κ°€ λ§λ“¤κ±΄, ν•„μμ μΌλ΅ μ΄λ¥Ό κµν™ν•λ” κ³Όμ •μ΄ ν•„μ”ν•©λ‹λ‹¤. κ·Έλ°λ° λ§μ—ν•λ‚ μ΄ ν‚¤κ°€ μ¤‘κ°„μ— ν•΄μ»¤λ΅λ¶€ν„° μ μ¶λλ‹¤λ©΄ λ¨λ“  ν†µμ‹ μ€ λ…Έμ¶λμ–΄λ²„λ¦¬κ² λ©λ‹λ‹¤.

λ‚¨μ„±λ¶„λ“¤μ€ μ•„μ‹κ² μ§€λ§, μ΄κ²ƒμ΄ κµ°λ€μ—μ„ CEOIλ¥Ό κ·Έλ ‡κ² μ†μ¤‘ν•κ² λ©μ— κ±Έκ³  λ‹¤λ‹λ” μ΄μ μ…λ‹λ‹¤. CEOIκ°€ μ™Έλ¶€λ΅ μ μ¶λλ‹¤λ©΄, μ΅°μ§ λ‚΄μ λ¨λ“  ν†µμ‹ μ€ λ…Έμ¶λλ‹¤κ³  λ³Ό μ μκΈ° λ•λ¬Έμ΄μ£ .

#### μ°Έκ³  1) μ•”νΈν™” λ°©μ‹μ μ²« λ²μ§Έ μ¶•: λ€μΉ­ν‚¤λ€ λ¬΄μ—‡μΌκΉ?

> β οΈ μ•μΌλ΅ μ¤‘κ°„μ¤‘κ°„ λ‡ κ°€μ§€ μ°Έκ³ μ‚¬ν•­μ΄ μμµλ‹λ‹¤.  
> μ΄κ²ƒλ“¤μ€ μ΄ν•΄λ¥Ό λ•κΈ° μ„ν• κ²ƒμ΄λ‹, μ΄λ―Έ μ μ•κ³ κ³„μ‹λ‹¤λ©΄ λ„μ–΄κ°€μ…”λ„ λ¬΄λ°©ν•©λ‹λ‹¤.

λ€μΉ­ν‚¤λ€, μ•”νΈν™”μ™€ λ³µνΈν™”μ— λ™μΌν• ν‚¤λ¥Ό μ‚¬μ©ν•λ” λ°©μ‹μ…λ‹λ‹¤. κ°€μ¥ λ„λ¦¬ μ‚¬μ©λλ” λ€μΉ­ν‚¤ μ•κ³ λ¦¬μ¦μΌλ΅λ” AES(Advanced Encryption Standard)κ°€ μμµλ‹λ‹¤. AESλ” λΉ λ¥΄κ³  μ•μ „ν• μ•”νΈν™” λ°©μ‹μΌλ΅, μΌλ°μ μΌλ΅ TLS 1.3μ—μ„λ” 128λΉ„νΈ, 256λΉ„νΈμ ν‚¤λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. μ΄λ” μ•„λμ™€ κ°™μ€ λ°©μ‹μΌλ΅ μ‰½κ² μ‚¬μ© ν•΄ λ³Ό μ μμµλ‹λ‹¤.

μ—¬κΈ°μ„λ” 16λ°”μ΄νΈ(128λΉ„νΈ)μ ν‚¤λ¥Ό μƒμ„±ν•΄λ³΄κ² μµλ‹λ‹¤.

```bash
openssl rand -hex 16
> 4353eed991856ca1730a2a6daaea9a5b
```

μ¶”κ°€μ μΌλ΅ IV(Initialization Vector)λΌλ” κ²ƒλ„ μμµλ‹λ‹¤. μ΄λ” μ•”νΈν™”λ¥Ό ν•  λ•, μ•”νΈν™”λ λ°μ΄ν„°μ ν¨ν„΄μ„ λ¬΄μ‘μ„λ΅ λ§λ“¤μ–΄μ£Όλ” μ—­ν• μ„ ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ κ°™μ€ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•΄λ„, λ§¤λ² λ‹¤λ¥Έ κ²°κ³Όλ¥Ό λ§λ“¤μ–΄λ‚΄μ–΄ λ³΄μ•μ„±μ„ λ†’μ…λ‹λ‹¤.

```bash
openssl rand -hex 16
> 1402346b532b87618d6f7b247a2cd0ef
```

μ΄μ  μ•”νΈν™”ν•  λ¬Έμμ—΄μ„ μƒμ„±ν•΄λ³΄κ² μµλ‹λ‹¤.

```bash
echo "Hello, I'm ford. nice to see you" > plaintext.txt
```

μ΄μ  μ•”νΈν™”λ¥Ό ν•΄λ³΄κ² μµλ‹λ‹¤.

```bash
openssl enc -aes-128-cbc -in plaintext.txt -out ciphertext.bin -K 4353eed991856ca1730a2a6daaea9a5b -iv 1402346b532b87618d6f7b247a2cd0ef
```

κ·Έλ¬λ©΄ μ•„λμ™€ κ°™μ€ νμΌμ΄ μƒμ„±λ©λ‹λ‹¤.

```bin
// ciphertext.bin
οΏ½uQG@οΏ½qv,"οΏ½n4οΏ½οΏ½οΏ½+οΏ½",c οΏ½οΏ½οΏ½LοΏ½PNοΏ½οΏ½:SοΏ½^PοΏ½gοΏ½^wοΏ½
```

μ΄μ  λ³µνΈν™”λ¥Ό ν•΄λ³΄κ² μµλ‹λ‹¤.

```bash
openssl enc -d -aes-128-cbc -in ciphertext.bin -out decrypted.txt -K 4353eed991856ca1730a2a6daaea9a5b -iv 1402346b532b87618d6f7b247a2cd0ef
```

κ·Έλ¬λ©΄ μ•„λμ™€ κ°™μ€ νμΌμ΄ μƒμ„±λ©λ‹λ‹¤.

```txt
// decrypted.txt
Hello, I'm ford. nice to see you
```

λ„µ, μ΄λ ‡κ² μ •μƒμ μΌλ΅ λ³µνΈν™”κ°€ λμ—μµλ‹λ‹¤. μ΄λ ‡κ² λ€μΉ­ν‚¤λ¥Ό μ‚¬μ©ν• μ•”νΈν™” λ°©μ‹μ€ λΉ„κµμ  μ μ€ μ—°μ‚°λ‰μΌλ΅ λΉ λ¥΄κ² μ•”νΈν™”λ¥Ό ν•  μ μμµλ‹λ‹¤.

κ·Έλ¬λ©΄ μ΄λ²μ—λ” ν• λ€μΉ­ν‚¤λ¥Ό ν•λ² ν• κΈ€μλ§ ν‹€λ ¤λ³ΌκΉμ”?

```bash
# keyμ λ§μ§€λ§‰ λ¬Έμλ¥Ό b μ—μ„ aλ΅ λ³€κ²½
openssl enc -d -aes-128-cbc -in ciphertext.bin -out decrypted-failed.txt -K 4353eed991856ca1730a2a6daaea9a5a -iv 1402346b532b87618d6f7b247a2cd0ef
> bad decrypt
```

κ²°κ³Όλ¬Όμ€ μ•„λμ™€ κ°™μµλ‹λ‹¤. μ „ν€ μ•μ•„ λ³Ό μ μ—†μ£ ? λ³µνΈν™”κ°€ μ‹¤ν¨ν–κΈ° λ•λ¬Έμ…λ‹λ‹¤.

```txt
οΏ½vοΏ½*fοΏ½jοΏ½5Λ‡οΏ½Θ„M,dοΏ½Ν©οΏ½O&οΏ½Υ’S|
```

##### μ°Έκ³  1-1) iv? μ΄κ±΄ λ λ­μ£ ?

μ„μ μ•”/λ³µνΈν™” κ³Όμ •μ—μ„ μ€κ·Όμ¬μ© `iv`λΌλ” ν•­λ©μ΄ μ‚¬μ©λμ—μµλ‹λ‹¤. κ³Όμ—° μ΄κ±΄ λ λ­κΉμ”?

![iv](images/iv.png)

κ°„λ‹¨ν•κ²λ§ μ„¤λ…ν•μλ©΄, iv(Initialization Vector)λ” μΌμΆ…μ μ–‘λ…κ°™μ€ μ΅΄μ¬μ…λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ λ™μΌν• λ°μ΄ν„°λ¥Ό μ•”νΈν™” ν•λ”λΌλ„ λ§¤λ² λ‹¤λ¥Έ κ²°κ³Όλ¥Ό λ§λ“¤μ–΄λ‚΄μ–΄ λ³΄μ•μ„±μ„ λ†’μΌ μ μκ² ν•΄μ¤λ‹λ‹¤.

ivμ λ³Έμ§μ€ λΉ„λ°€λ³΄λ‹¤λ” **λ§¤λ² λ‹¤λ¥Έ κ²°κ³Όλ¥Ό λ§λ“¤μ–΄λ‚΄λ” κ²ƒ**μ΄κΈ° λ•λ¬Έμ—, μ΄ κ°’μ€ μ•”νΈν™”λ λ°μ΄ν„°μ™€ ν•¨κ» κ³µκ°λμ–΄λ„ μƒκ΄€μ—†μµλ‹λ‹¤. κ·Έλμ„ μ•”νΈν™”λ λ°μ΄ν„°μ™€ ν•¨κ» μ „μ†΅λκΈ°λ„ ν•©λ‹λ‹¤.

### κ·Έλ ‡λ‹¤λ©΄ λ‘ λ²μ§Έ λ°©λ²•: λΉ„λ€μΉ­ν‚¤(Asymmetric Key) μ•”νΈν™”

κ·Έλ ‡λ‹¤λ©΄ μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν• λ°©λ²•μ€ λ¬΄μ—‡μΌκΉμ”? μ„λ΅κ°€ κ°™μ€ ν‚¤λ¥Ό κ°€μ§€κ³  μμ§€ μ•μ•„λ„ ν†µμ‹ μ„ ν•  μ μλ” λ°©λ²•μ΄ μμ„κΉμ”?  
λ„¤, κ·Έ λ°©λ²•μ΄ λ°”λ΅ `λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”`μ…λ‹λ‹¤.

![alt text](images/asymmetric.png)

λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”λ” λ‘ κ°μ λ‹¤λ¥Έ ν‚¤, μ¦‰ ***κ³µκ°ν‚¤***μ™€ **κ°μΈν‚¤**λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. ***κ³µκ°ν‚¤***λ΅ μ•”νΈν™”ν• λ°μ΄ν„°λ” **κ°μΈν‚¤**λ΅λ§ λ³µνΈν™”ν•  μ μμΌλ©°, λ°λ€λ΅ **κ°μΈν‚¤**λ΅ μ•”νΈν™”ν• λ°μ΄ν„°λ” ***κ³µκ°ν‚¤***λ΅λ§ λ³µνΈν™”ν•  μ μμµλ‹λ‹¤. ν›„μμ κ²½μ°λ” νΉλ³„ν `μ „μμ„λ…`μ΄λΌκ³  λ¶€λ¥΄κΈ°λ„ ν•©λ‹λ‹¤.

![alt text](images/asymmetric2.png)

μ„ λ„μ‹κ³Ό κ°™μ΄, μ΄μ „κ³Όλ” λ‹¤λ¥΄κ² μ΄λ²μ—λ” μμ‹ μ κ³µκ°ν‚¤λ¥Ό μƒλ€λ°©μ—κ² μ „λ‹¬ν•κ³ , μƒλ€λ°©μ€ μ΄λ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•μ—¬ μ „λ‹¬ν•©λ‹λ‹¤. κ·Έλ¦¬κ³  μ΄λ¥Ό λ°›μ€ μμ‹ μ€ κ°μΈν‚¤λ΅ λ³µνΈν™”ν•μ—¬ λ°μ΄ν„°λ¥Ό ν™•μΈν•©λ‹λ‹¤.

μ΄λ ‡κ² ν•λ©΄, μ 3μκ°€ μ¤‘κ°„μ— κ³µκ°ν‚¤μ™€ λ°μ΄ν„°λ¥Ό κ°€λ΅μ±„λ”λΌλ„ μ΄ λ°μ΄ν„°λ¥Ό λ³µνΈν™”ν•  μ μλ” κ°μΈν‚¤λ¥Ό κ°€μ§€κ³  μμ§€ μ•κΈ° λ•λ¬Έμ— λ°μ΄ν„°λ¥Ό ν™•μΈν•  μ μ—†κ² λ©λ‹λ‹¤.

λ§μ•½ μ–‘λ°©ν–¥ ν†µμ‹ μ„ ν•΄μ•Όν•λ‹¤λ©΄ μ„λ΅ κ³µκ°ν‚¤λ¥Ό κµν™ν•μ—¬ ν†µμ‹ μ„ ν•  μ μκ² μ£ ?  
μ΄λ΅μ„ μ΄μ „ λ€μΉ­ν‚¤λ¥Ό μ‚¬μ©ν•λ” κ²½μ°μ— λ°μƒν–λ λ¬Έμ μ μ„ μ™„μ „ν ν•΄κ²°ν•κ²ƒμ²λΌ λ³΄μ…λ‹λ‹¤.

ν•μ§€λ§ μ΄ λ°©λ²•μ—λ„ ν• κ°€μ§€ λ¬Έμ κ°€ μμµλ‹λ‹¤. κ·Έκ²ƒμ€ λ°”λ΅ `μ„±λ¥`μ…λ‹λ‹¤. λ€μΉ­ν‚¤ μ•”νΈν™”μ— λΉ„ν•΄ λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”λ” μ—°μ‚°λ‰μ΄ λ§μ•„μ„ λλ¦¬λ‹¤λ” μ μ΄ ν° λ¬Έμ μ…λ‹λ‹¤. μ΄λ¬ν• μ΄μ λ΅ μ°λ¦¬λ” μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ λλ‹¤λ¥Έ λ°©λ²•μ„ μ‚¬μ©ν•©λ‹λ‹¤.

#### μ°Έκ³  2) μ•”νΈν™” λ°©μ‹μ λ‘ λ²μ§Έ μ¶•: λΉ„λ€μΉ­ν‚¤λ€ λ¬΄μ—‡μΌκΉ?

λΉ„λ€μΉ­ν‚¤λ€, μ•”νΈν™”μ™€ λ³µνΈν™”μ— μ„λ΅ λ‹¤λ¥Έ ν‚¤λ¥Ό μ‚¬μ©ν•λ” λ°©μ‹μ…λ‹λ‹¤. κ°€μ¥ λ„λ¦¬ μ‚¬μ©λλ” λΉ„λ€μΉ­ν‚¤ μ•κ³ λ¦¬μ¦μΌλ΅λ” RSA(Rivest-Shamir-Adleman)κ°€ μμµλ‹λ‹¤. 
μ„Έ λ‹¨μ–΄ λ¨λ‘ μ•κ³ λ¦¬μ¦μ κ°λ°μλ“¤μ μ΄λ¦„μ„ λ”°μ„ μ§€μ–΄μ΅μµλ‹λ‹¤. μ½κΈ°λ„ νλ“λ„¤μ”.  
RSAλ” κ³µκ°ν‚¤ μ•”νΈν™” λ°©μ‹μΌλ΅, κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν• λ°μ΄ν„°λ” κ°μΈν‚¤λ΅λ§ λ³µνΈν™”ν•  μ μμΌλ©°, λ°λ€λ΅ κ°μΈν‚¤λ΅ μ•”νΈν™”ν• λ°μ΄ν„°λ” κ³µκ°ν‚¤λ΅λ§ λ³µνΈν™”ν•  μ μμµλ‹λ‹¤.

RSA μ•”νΈν™”λ” λ³΄ν†µ 2048λΉ„νΈ, 4096λΉ„νΈμ ν‚¤λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. μ΄μ „μ—λ” 1024λΉ„νΈμ ν‚¤λ¥Ό μ‚¬μ©ν•κΈ°λ„ ν–μ§€λ§, μ΄μ λ” λ³΄μ•μ„±μ΄ λ–¨μ–΄μ Έ μ‚¬μ©λμ§€ μ•μµλ‹λ‹¤.  
μ—¬κΈ°μ„λ” 2048λΉ„νΈμ ν‚¤λ¥Ό μƒμ„±ν•΄λ³΄κ² μµλ‹λ‹¤.

```bash
openssl genrsa -out private.pem 2048
```

μ΄λ ‡κ² ν•λ©΄ Private Keyκ°€ μƒμ„±λ©λ‹λ‹¤. μƒμ„±λ ν‚¤λ” μ•„λμ™€ κ°™μ΄ μƒκ²Όμµλ‹λ‹¤.

```pem
-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC7EMlVx2Huqyno
...
...
L2/3i9pOV3bgD6ZStSvB4+U=
-----END PRIVATE KEY-----
```

μ΄μ  μ΄ Private Keyλ¥Ό μ΄μ©ν•μ—¬ Public Keyλ¥Ό μƒμ„±ν•΄λ³΄κ² μµλ‹λ‹¤.

```bash
openssl rsa -in private.pem -pubout -out public.pem
```

```pem
-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuxDJVcdh7qsp6HNUX/LQ
...
...
TwIDAQAB
-----END PUBLIC KEY-----
```

λ”± λ΄λ„ AESμ— λΉ„ν•λ©΄ ν›¨μ”¬ κΈΈμ£ ? κ·Έλ§νΌ μ—°μ‚°λ‰λ„ ν¬κ³  λ¬΄κ²μµλ‹λ‹¤. κ·Έλ¬λ©΄ μ΄μ  μ΄ ν‚¤λ¥Ό μ΄μ©ν•μ—¬ μ•”νΈν™”λ¥Ό ν•΄λ³΄κ² μµλ‹λ‹¤.

```bash
echo "Hello, I'm ford. nice to see you" > plaintext.txt
openssl pkeyutl -encrypt -inkey public.pem -pubin -in plaintext.txt -out ciphertext.bin
```

κ²°κ³Όλ¬Όμ€ μ΄λ ‡κ² μƒκ²Όμµλ‹λ‹¤. μ•”νΈν™”κ°€ μ λ κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

```bin
οΏ½lοΏ½οΏ½RοΏ½pοΏ½]o+NοΏ½xAoοΏ½οΏ½οΏ½οΏ½bΡ½jdοΏ½οΏ½.οΏ½PoοΏ½οΏ½οΏ½Τ­οΏ½οΏ½οΏ½zοΏ½οΏ½ qοΏ½W SοΏ½aοΏ½PοΏ½οΏ½MοΏ½οΏ½οΏ½οΏ½.οΏ½^JοΏ½JοΏ½v<οΏ½οΏ½οΏ½'οΏ½οΏ½HοΏ½οΏ½οΏ½Pf9οΏ½~	οΏ½gοΏ½?οΏ½]οΏ½6w75Μ±οΏ½d†,οΏ½οΏ½οΏ½οΏ½οΏ½οΏ½οΏ½N'οΏ½οΏ½CοΏ½οΏ½οΏ½οΏ½v#a/%{GqRoοΏ½/οΏ½m1οΏ½>7οΏ½/οΏ½JοΏ½οΏ½0TοΏ½οΏ½#οΏ½οΏ½οΏ½XC'tοΏ½e]
7οΏ½οΏ½οΏ½οΏ½οΏ½οΏ½οΏ½οΏ½οΏ½.οΏ½[`οΏ½Y
KοΏ½οΏ½mxBοΏ½JοΏ½RοΏ½οΏ½p%οΏ½οΏ½οΏ½οΏ½HοΏ½οΏ½οΏ½iοΏ½^9οΏ½οΏ½!οΏ½!οΏ½οΏ½οΏ½οΏ½*]οΏ½KοΏ½*οΏ½=.οΏ½59οΏ½οΏ½οΏ½d
```

μ΄μ  λ³µνΈν™”λ¥Ό ν•΄λ³΄κ² μµλ‹λ‹¤.

```bash
openssl pkeyutl -decrypt -inkey private.pem -in ciphertext.bin -out decrypted.txt
```

```txt
Hello, I'm ford. nice to see you
```

### κ·Έλ ‡λ‹¤λ©΄ μ΄μ  μ„Έ λ²μ§Έ λ°©λ²•: κ³µκ°ν‚¤ + λ€μΉ­ν‚¤ λ¨λ‘λ¥Ό μ‚¬μ©ν•μ!

![alt text](images/hybrid.png)

λ“λ””μ–΄ μ΄μ , μµμΆ…μ μΌλ΅ μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μλ” λ°©λ²•μ„ μ°Ύμ•μµλ‹λ‹¤. κ·Έ λ°©λ²•μ€ μƒκ°λ³΄λ‹¤ κ°„λ‹¨ν•©λ‹λ‹¤. κ³µκ°ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ λ€μΉ­ν‚¤λ¥Ό κµν™ν•λ” κ²ƒμ…λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ λ€μΉ­ν‚¤λ¥Ό μ•μ „ν•κ² κµν™ν•κ³ , μ΄ν›„μ—λ” λ€μΉ­ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›μµλ‹λ‹¤.

μ, μ—¬κΈ°κΉμ§€μ κ³Όμ •μ€ μƒκ°λ³΄λ‹¤ μ–΄λ µμ§€ μ•μ£ ? μ΄μ  μ΄λ¬ν• κ°λ…μ„ λ°”νƒ•μΌλ΅ λ³Έκ²©μ μΌλ΅ HTTPSκ°€ μ–΄λ–»κ² μ‘λ™ν•λ”μ§€ μ•μ•„λ³΄λ„λ΅ ν•κ² μµλ‹λ‹¤.

#### μ°Έκ³  3) μ•”νΈν™”μ κ°•λ„: ν‚¤ κΈΈμ΄μ— λ”°λ¥Έ λ³΄μ• μμ¤€.

μ„μ AESμ™€ RSAλ¥Ό μ„¤λ…ν•λ” λ¶€λ¶„μ—μ„ κ³„μ†ν•΄μ„ `AES-128`, `RSA-2048` λ“±μ μ΄λ¦„λ¨λ¥Ό μ«μλ“¤μ΄ λ“±μ¥ν–μµλ‹λ‹¤. μ΄λ¥Ό `λΉ„λ„`λΌκ³  λ¶€λ¥΄λ”λ°, μ΄λ” μ•”νΈν™”μ κ°•λ„λ¥Ό λ‚νƒ€λ‚΄λ” μ§€ν‘μ…λ‹λ‹¤. μ‰½κ² λ§ν•λ©΄ ν‚¤μ κΈΈμ΄λΌκ³  ν•  μ μμµλ‹λ‹¤.  
λ‹Ήμ—°ν•κ²λ„ λΉ„λ„κ°€ μ»¤μ§€λ©΄(ν‚¤μ κΈΈμ΄κ°€ κΈΈμ–΄μ§€λ©΄) μ΄λ¥Ό ν•΄λ…ν•λ”λ° λ” λ§μ€ μ‹κ°„μ΄ κ±Έλ¦¬κ³ , κ³µκ²©μκ°€ λΈλ£¨νΈν¬μ¤ κ³µκ²©μ„ ν•λ”λΌλ„ λ” λ§μ€ μ‹κ°„μ΄ κ±Έλ¦¬κ² λ©λ‹λ‹¤.  
ν•μ§€λ§ λ°λ€λ΅ κ·Έλ§νΌ μ—°μ‚°λ‰μ΄ λ§μ•„μ§€κΈ° λ•λ¬Έμ—, μ„±λ¥μ€ λ–¨μ–΄μ§€κ² λ©λ‹λ‹¤. κ·Έλμ„ μ λ‹Ήν• λΉ„λ„λ¥Ό μ„ νƒν•λ” κ²ƒμ΄ μ¤‘μ”ν•©λ‹λ‹¤.

## PKI(Public Key Infrastructure): κ³µκ°ν‚¤ κΈ°λ° κµ¬μ΅°

μ΄μ  HTTPSλ¥Ό μ‚¬μ©ν•κΈ° μ„ν• λ§μ§€λ§‰ λ‹¨κ³„μΈ `PKI`μ— λ€ν•΄ μ•μ•„λ³΄κ² μµλ‹λ‹¤.

PKIλ” μ„μ μ†μ λ©μ—μ„λ„ μ• μ μλ“―, μΌμΆ…μ μ‚¬νκΈ°λ°μ‹μ„¤(Infra)λΌκ³  λ³Ό μ μμµλ‹λ‹¤. μ „ μ„Έκ³„μ—μ„ κ³µμ©μΌλ΅ μ‚¬μ©ν•λ” κ³µκ°ν‚¤λ¥Ό κ΄€λ¦¬ν•κ³ , μ΄λ¥Ό ν†µν•΄ μ•μ „ν• ν†µμ‹ μ„ ν•  μ μλ„λ΅ λ„μ™€μ£Όλ” μ‹μ¤ν…μ…λ‹λ‹¤.

κ·Έλ°λ° μ΄κ² μ™ ν•„μ”ν• κΉμ”..?

μ‚¬μ‹¤μ€, μ΅°κΈ μ „μ— μ•μ•„λ³Έ κ³µκ°ν‚¤ + λ€μΉ­ν‚¤ λ°©μ‹μ—λ„ μ¨κ²¨μ§„ λ¬Έμ κ°€ μμµλ‹λ‹¤. λ°”λ΅ `μ‹ λΆ°`μ…λ‹λ‹¤. λ¬΄μ¨ λ¬κµ¬λ¦„ μ΅λ” μ†λ¦¬λƒκµ¬μ”? μΆ€ λ” μμ„Έν μ‚΄ν΄λ΄…μ‹λ‹¤.

![alt text](images/hybrid.png)

μ„ κ³Όμ •μ—μ„ κ°€μ¥ λ¨Όμ € Aliceλ” Bobμ—κ² μμ‹ μ κ³µκ°ν‚¤λ¥Ό μ „λ‹¬ν•©λ‹λ‹¤.  
κ·Έλ°λ° λ§μ•½ μ΄ λ‘μ μ‚¬μ΄μ— Charlieκ°€ μ¨μ–΄μλ‹¤λ©΄ μ–΄λ–»κ² λ κΉμ”? Charlieλ” λ‘ μ‚¬μ΄μ ν†µμ‹ μ„ κ°€λ΅μ±„μ–΄, μμ‹ μ κ³µκ°ν‚¤λ¥Ό Bobμ—κ² μ „λ‹¬ν•  μλ„ μμµλ‹λ‹¤. κ·Έλ¬λ©΄ Bobμ€ μ΄ κ³µκ°ν‚¤λ΅ λ€μΉ­ν‚¤λ¥Ό μ•”νΈν™”ν•μ—¬ μ „λ‹¬ν•κ² λ©λ‹λ‹¤.  
κ·Έλ¦¬κ³  μ•„λ¬΄λ ‡μ§€ μ•μ€μ²™ λ€μΉ­ν‚¤λ¥Ό Aliceμ κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ μ „λ‹¬ν•λ©΄ μ΄ν›„μ λ¨λ“  ν†µμ‹ μ„ Charlieκ°€ κ°€λ΅μ± μ μκ² λ©λ‹λ‹¤. μ΄κ²ƒμ΄ λ°”λ΅ `μ¤‘κ°„μ κ³µκ²©`μ…λ‹λ‹¤.

![alt text](images/hybrid-fail.png)

μ, μ΄μ  μ–΄λμ •λ„ κ°μ΄ μ¤μ‹¤κ²λ‹λ‹¤. μ΄λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ λ“±μ¥ν• κ²ƒμ΄ λ°”λ΅ `μΈμ¦μ„`μ…λ‹λ‹¤.  
μΌλ°μ μΈ ν™κ²½μ—μ„ Aliceμ™€ Bobμ€ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈλ΅ λ³Ό μ μμµλ‹λ‹¤. μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ—κ² μμ‹ μ κ³µκ°ν‚¤λ¥Ό μ „λ‹¬ν•κ³ , ν΄λΌμ΄μ–ΈνΈλ” μ΄λ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›μ£ . μ΄ κ³Όμ •μ—μ„ μ„λ²„λ” μμ‹ μ΄ λ„κµ¬μΈμ§€ μ¦λ…ν•  μ μλ” `μΈμ¦μ„`λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ „λ‹¬ν•©λ‹λ‹¤.

μ΄ μΈμ¦μ„λ” `CA(Certificate Authority)`λΌλ” κΈ°κ΄€μ΄ λ°κΈ‰ν•λ©°, μ΄λ¥Ό ν†µν•΄ μ„λ²„μ μ‹ μ›μ„ ν™•μΈν•  μ μμµλ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ¤‘κ°„μ κ³µκ²©μ„ λ°©μ§€ν•  μ μμµλ‹λ‹¤.

![alt text](images/naver-ca.png)

μ„ κ·Έλ¦Όμ€ λ„¤μ΄λ²„μ μΈμ¦μ„λ¥Ό ν™•μΈν•λ” ν™”λ©΄μ…λ‹λ‹¤. μ—¬κΈ°μ„ `NAVER Corp.` λΌλ” μ΅°μ§μ΄ `DigiCert Inc`λΌλ” CAλ΅λ¶€ν„° λ°κΈ‰λ°›μ€ μΈμ¦μ„λΌλ” κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

μ—¬κΈ°μ„ μ΅°κΈλ§ λ” μ§‘μ”ν•κ² κµ΄μ–΄λ΄…μ‹λ‹¤. κ·Έλ ‡λ‹¤λ©΄ CAλ” λ„κµ¬κ³ , μ΄ CAλ” μ–΄λ–»κ² μ‹ λΆ°ν•  μ μλ” κ²ƒμΌκΉμ”? μ—¬κΈ°μ„ λ“±μ¥ν•λ” λ‘ κ°€μ§€ κ°λ…μ΄ μμµλ‹λ‹¤. λ°”λ΅ `RA(Root Authority)`μ™€ `Certificate Chain(Chain of Trust)`μ…λ‹λ‹¤.

### RA(Root Authority): μµμƒμ„ μΈμ¦ κΈ°κ΄€

`RA`λ” `CA`μ μµμƒμ„ μΈμ¦ κΈ°κ΄€μ…λ‹λ‹¤. μ΄λ¦„ κ·Έλ€λ΅ μ „μ„Έκ³„ λ¨λ“  μΈμ¦ κΈ°κ΄€μ μµμƒμ„μ— μ„μΉν•λ©°, κ·Έλ§νΌ λ…λ§μκ³  μ‹ λΆ°λ„ λ†’μ€ κΈ°κ΄€μ…λ‹λ‹¤. λ€ν‘μ μΌλ΅ `VeriSign`, `DigiCert`, `COMODO`λ“±μ΄ μμµλ‹λ‹¤. μ΄ `RA`λ” μμ‹ μ μ„λ…μ„ ν†µν•΄ `CA`μ—κ² μΈμ¦μ„λ¥Ό λ°κΈ‰ν•κ³ , μ΄λ¥Ό ν†µν•΄ `CA`λ” λ‹¤μ‹ ν•μ„ `CA` νΉμ€ μ„λ²„μ—κ² μΈμ¦μ„λ¥Ό λ°κΈ‰ν•©λ‹λ‹¤.

### Certificate Chain(Chain of Trust): μ‹ λΆ° μ²΄μΈ

λμΉ λΉ λ¥Έ λ¶„λ“¤μ€ μ•„μ‹κ² μ§€λ§, μ„μ—μ„ μ–ΈκΈ‰ν• `RA`μ™€ `CA`μ μ—°μ†λ κ΄€κ³„λ¥Ό `Certificate Chain`μ΄λΌκ³  ν•©λ‹λ‹¤. μ΄λ” `RA`κ°€ `CA`μ—κ² μΈμ¦μ„λ¥Ό λ°κΈ‰ν•κ³ , `CA`λ” μ΄λ¥Ό ν†µν•΄ μ„λ²„μ—κ² μΈμ¦μ„λ¥Ό λ°κΈ‰ν•λ” κ³Όμ •μ„ λ§ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ„λ²„μ μ‹ μ›μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

![alt text](images/naver-chain.png)

μ„ κ·Έλ¦Όμ€ λ„¤μ΄λ²„μ μΈμ¦μ„λ¥Ό ν™•μΈν•λ” ν™”λ©΄μ…λ‹λ‹¤. μ—¬κΈ°μ„ `DigiCert Global Root CA`λΌλ” μµμƒμ„ μΈμ¦ κΈ°κ΄€μ΄ `DigiCert TLS Hybrid ECC SHA384 2020 CA1`λΌλ” μ¤‘κ°„ μΈμ¦ κΈ°κ΄€μ—κ² μΈμ¦μ„λ¥Ό λ°κΈ‰ν•κ³ , μ΄λ¥Ό ν†µν•΄ `*.naver.com`μ΄λΌλ” μ„λ²„μ—κ² μΈμ¦μ„λ¥Ό λ°κΈ‰ν–λ‹¤λ” μ‚¬μ‹¤μ„ μ•μμμ£ .

μ΄λ¥Ό μΆ€ λ” κ°λ…μ μΌλ΅ μ •λ¦¬ν•΄λ³΄λ©΄ μ•„λμ™€ κ°™μµλ‹λ‹¤.

![alt text](images/chain-of-trust.png)

'ONGOING'

## SSL/TLS ν•Έλ“μ…°μ΄ν¬ κ³Όμ •: λ³΄μ• μ—°κ²° μ„¤μ •μ ν•µμ‹¬


μ•λ…•ν•μ„Έμ”! μ¤λμ€ μ›Ή λ³΄μ•μ μ¤‘μ”ν• μ¶•μ„ λ‹΄λ‹Ήν•λ” SSL/TLSμ— λ€ν•΄ ν†Ίμ•„λ³΄λ©΄μ„ κΈ°μ μ μΌλ΅ κΉμ΄ μλ” λ‚΄μ©μ„ λ‹¤λ£¨μ–΄ λ³΄κ² μµλ‹λ‹¤. SSLκ³Ό TLSλ” μΈν„°λ„· λ³΄μ•μ—μ„ μ¤‘μ”ν• μ—­ν• μ„ ν•λ©°, μ°λ¦¬κ°€ μΌμƒμ μΌλ΅ μ‚¬μ©ν•λ” HTTPSλ” λ°”λ΅ μ΄ κΈ°μ μ— κΈ°λ°ν•κ³  μμµλ‹λ‹¤. μ΄λ² ν¬μ¤ν…μ—μ„λ” SSL/TLSμ μ›λ¦¬μ™€ μ„Έλ¶€μ μΈ κΈ°μ  μ”μ†κΉμ§€ μ‚΄ν΄λ³΄λ©°, μ™ μ΄ κΈ°μ μ΄ ν•„μμ μΈμ§€ μ•μ•„λ³΄κ² μµλ‹λ‹¤.

## SSLκ³Ό TLS: λ¬΄μ—‡μ΄ λ‹¤λ¥Έκ°€?

SSL(Secure Socket Layer)κ³Ό TLS(Transport Layer Security)λ” μΈν„°λ„· ν†µμ‹ μ—μ„ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•μ—¬ λ³΄μ•μ„ λ³΄μ¥ν•λ” ν”„λ΅ν† μ½μ…λ‹λ‹¤. SSLμ€ 1990λ…„λ€ μ¤‘λ° Netscapeμ— μν•΄ κ°λ°λμ—μΌλ©°, μ΄ν›„ TLSλ΅ λ°μ „ν•κ² λμ—μµλ‹λ‹¤. TLSλ” SSL 3.0μ„ κΈ°λ°μΌλ΅ λ§λ“¤μ–΄μ΅μ§€λ§, λ” λ†’μ€ λ³΄μ•μ„±κ³Ό μ„±λ¥μ„ μ κ³µν•©λ‹λ‹¤. 1999λ…„ IETF(Internet Engineering Task Force)μ— μν•΄ ν‘μ¤€ν™”λ μ΄ν›„, TLSλ” ν„μ¬ μΈν„°λ„· λ³΄μ•μ—μ„ ν‘μ¤€μΌλ΅ μλ¦¬ μ΅κ³  μμµλ‹λ‹¤γ€5β€ sourceγ€‘.

SSLκ³Ό TLSλ” κΈ°λ³Έμ μΌλ΅ μ•”νΈν™”λ ν†µμ‹ μ„ κ°€λ¥ν•κ² ν•μ§€λ§, TLSλ” λ” μ•μ „ν• ν•΄μ‹ μ•κ³ λ¦¬μ¦κ³Ό ν‚¤ κµν™ λ©”μ»¤λ‹μ¦μ„ μ‚¬μ©ν•΄ SSLμ λ‹¨μ μ„ λ³΄μ™„ν•©λ‹λ‹¤. λν•, TLSλ” SSLλ³΄λ‹¤ λ” μ μ—°ν• μ•”νΈν™” λ°©μ‹ ν‘μƒ ν”„λ΅μ„Έμ¤λ¥Ό μ§€μ›ν•μ—¬ λ‹¤μ–‘ν• λ³΄μ• μ”κµ¬ μ‚¬ν•­μ— λ€μ‘ν•  μ μμµλ‹λ‹¤.

## μ•”νΈν™” λ°©μ‹μ λ‘ μ¶•: λ€μΉ­ν‚¤μ™€ λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”

SSL/TLSλ” λ‘ κ°€μ§€ μ•”νΈν™” λ°©μ‹μ„ κ²°ν•©ν•μ—¬ μ‚¬μ©ν•©λ‹λ‹¤. λ€μΉ­ν‚¤ μ•”νΈν™”λ” λΉ λ¥Έ μ†λ„λ΅ λ€λ‰μ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•λ” λ° μ ν•©ν•κ³ , λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”λ” λ³΄μ•μ„±μ΄ λ†’μ•„ ν‚¤ κµν™μ— μ£Όλ΅ μ‚¬μ©λ©λ‹λ‹¤.

### 1. λ€μΉ­ν‚¤ μ•”νΈν™” (Symmetric Key Cryptography)

λ€μΉ­ν‚¤ μ•”νΈν™”μ—μ„λ” μ•”νΈν™”μ™€ λ³µνΈν™”μ— λ™μΌν• ν‚¤λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. κ°€μ¥ λ„λ¦¬ μ‚¬μ©λλ” λ€μΉ­ν‚¤ μ•κ³ λ¦¬μ¦μΌλ΅λ” AES(Advanced Encryption Standard)κ°€ μμµλ‹λ‹¤. AESλ” λΉ λ¥΄κ³  μ•μ „ν• μ•”νΈν™” λ°©μ‹μΌλ΅, 128λΉ„νΈ, 192λΉ„νΈ, 256λΉ„νΈ ν‚¤λ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤. SSL/TLSμ—μ„λ” μ„Έμ… μ•”νΈν™”λ¥Ό μ„ν•΄ λ€μΉ­ν‚¤ μ•”νΈν™”λ¥Ό μ‚¬μ©ν•λ©°, μ΄ λ• μƒμ„±λ **λ§μ¤ν„° μ‹ν¬λ¦Ώ(Master Secret)**μ΄ λ°μ΄ν„° μ•”νΈν™”μ— μ‚¬μ©λ©λ‹λ‹¤γ€5β€ sourceγ€‘.

λ€μΉ­ν‚¤ μ•”νΈν™”μ μ£Όμ” μ¥μ μ€ μ†λ„μ…λ‹λ‹¤. κ·Έλ¬λ‚ μ΄ λ°©μ‹μ μΉλ…μ μΈ λ‹¨μ μ€ **ν‚¤ λ¶„λ°° λ¬Έμ **μ…λ‹λ‹¤. μ–‘μ½μ΄ λ™μΌν• ν‚¤λ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ―€λ΅, ν‚¤λ¥Ό μ•μ „ν•κ² κ³µμ ν•λ” λ°©λ²•μ΄ ν•„μ”ν•©λ‹λ‹¤. μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ SSL/TLSλ” λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”λ¥Ό ν™μ©ν•©λ‹λ‹¤.

### 2. λΉ„λ€μΉ­ν‚¤ μ•”νΈν™” (Asymmetric Key Cryptography)

λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”λ” λ‘ κ°μ λ‹¤λ¥Έ ν‚¤, μ¦‰ κ³µκ°ν‚¤μ™€ κ°μΈν‚¤λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν• λ°μ΄ν„°λ” κ°μΈν‚¤λ΅λ§ λ³µνΈν™”ν•  μ μμΌλ©°, λ°λ€λ΅ κ°μΈν‚¤λ΅ μ•”νΈν™”ν• λ°μ΄ν„°λ” κ³µκ°ν‚¤λ΅λ§ λ³µνΈν™”ν•  μ μμµλ‹λ‹¤. κ°€μ¥ λ„λ¦¬ μ‚¬μ©λλ” λΉ„λ€μΉ­ν‚¤ μ•”νΈν™” μ•κ³ λ¦¬μ¦μ€ **RSA**(Rivest-Shamir-Adleman)μ…λ‹λ‹¤γ€5β€ sourceγ€‘γ€5β€ sourceγ€‘.

SSL/TLSμ—μ„λ” μ£Όλ΅ λΉ„λ€μΉ­ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ μ•μ „ν•κ² λ€μΉ­ν‚¤λ¥Ό κµν™ν•λ” λ° μ‚¬μ©ν•©λ‹λ‹¤. λΉ„λ€μΉ­ν‚¤λ¥Ό μ΄μ©ν•΄ λ¨Όμ € **ν”„λ¦¬ λ§μ¤ν„° μ‹ν¬λ¦Ώ(Pre-Master Secret)**μ„ μƒμ„±ν•κ³ , μ΄λ¥Ό μ„λ²„μ κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ μ„λ²„μ— μ „μ†΅ν•©λ‹λ‹¤. μ„λ²„λ” μ΄ λ°μ΄ν„°λ¥Ό κ°μΈν‚¤λ΅ λ³µνΈν™”ν• λ’¤, ν΄λΌμ΄μ–ΈνΈμ™€ λ™μΌν• λ§μ¤ν„° μ‹ν¬λ¦Ώμ„ μƒμ„±ν•©λ‹λ‹¤. μ΄λ ‡κ² μƒμ„±λ λ§μ¤ν„° μ‹ν¬λ¦Ώμ€ μ΄ν›„ λ€μΉ­ν‚¤ μ•”νΈν™”μ— μ‚¬μ©λ©λ‹λ‹¤.

### μ•”νΈν™”μ κ°•λ„: ν‚¤ κΈΈμ΄μ— λ”°λ¥Έ λ³΄μ• μμ¤€

μ•”νΈν™”μ κ°•λ„λ” μ£Όλ΅ μ‚¬μ©λλ” ν‚¤μ κΈΈμ΄λ΅ μΈ΅μ •λ©λ‹λ‹¤. ν‚¤κ°€ κΈΈμλ΅ κ°€λ¥ν• μ΅°ν•©μ μκ°€ λ§μ•„μ§€λ―€λ΅ κ³µκ²©μκ°€ λ¨λ“  κ°€λ¥ν• ν‚¤λ¥Ό λ€μ…ν•΄λ³΄λ” **λΈλ£¨νΈ ν¬μ¤ κ³µκ²©**(brute-force attack)μ΄ μ‚¬μ‹¤μƒ λ¶κ°€λ¥ν•΄μ§‘λ‹λ‹¤. μ•„λλ” μΌλ°μ μΈ ν‚¤ κΈΈμ΄μ™€ κ·Έμ— λ”°λ¥Έ λ³΄μ• μμ¤€μ…λ‹λ‹¤:

- **64λΉ„νΈ**: 2^64 κ°€μ§€μ μ΅°ν•©. μ¤λλ‚  λ€λ¶€λ¶„μ κ²½μ° μ•μ „ν•μ§€ μ•μ.
- **128λΉ„νΈ**: 2^128 κ°€μ§€μ μ΅°ν•©. ν„μ¬ λ§μ€ μ›Ήμ‚¬μ΄νΈμ—μ„ κΈ°λ³Έμ μΌλ΅ μ‚¬μ©ν•λ” μμ¤€.
- **256λΉ„νΈ**: 2^256 κ°€μ§€μ μ΅°ν•©. λ§¤μ° λ†’μ€ λ³΄μ• μμ¤€μ„ μ”κµ¬ν•λ” ν™κ²½μ—μ„ μ‚¬μ©λ¨.
- **512λΉ„νΈ**: 2^512 κ°€μ§€μ μ΅°ν•©. μΌλ°μ μΌλ΅ λ§μ΄ μ‚¬μ©λμ§€ μ•μ§€λ§, μ΄λ΅ μƒ κ°€μ¥ κ°•λ ¥ν• λ³΄μ• μμ¤€γ€5β€ sourceγ€‘.

## PKI(Public Key Infrastructure): κ³µκ°ν‚¤ κΈ°λ° κµ¬μ΅°

SSL/TLSλ” μΈμ¦μ„λ¥Ό ν†µν•΄ μƒλ€λ°©μ μ‹ μ›μ„ ν™•μΈν•κ³ , μ‹ λΆ°ν•  μ μλ” ν†µμ‹ μ„ λ³΄μ¥ν•©λ‹λ‹¤. μ΄λ¥Ό μ„ν•΄ **PKI(κ³µκ°ν‚¤ κΈ°λ° κµ¬μ΅°)**λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. PKIλ” μΈμ¦ κΈ°κ΄€(CA, Certificate Authority)μ΄ λ°κΈ‰ν• λ””μ§€ν„Έ μΈμ¦μ„λ¥Ό κΈ°λ°μΌλ΅ ν†µμ‹ ν•λ” μƒλ€λ°©μ μ‹ λΆ°μ„±μ„ λ³΄μ¥ν•©λ‹λ‹¤. **μΈμ¦μ„ μ²΄μΈ(Certificate Chain)**μ€ Root CAμ—μ„ μ‹μ‘ν•΄ Intermediate CAλ¥Ό κ±°μ³ μµμΆ… μ‚¬μ©μμ—κ² λ„λ‹¬ν•λ” λ°©μ‹μΌλ΅ κµ¬μ¶•λ©λ‹λ‹¤γ€5β€ sourceγ€‘.

### CA(Certificate Authority) μ—­ν• 

CAλ” λ””μ§€ν„Έ μΈμ¦μ„λ¥Ό λ°κΈ‰ν•κ³  κ΄€λ¦¬ν•λ” κΈ°κ΄€μΌλ΅, μ›Ή μ„λ²„λ‚ μ‚¬μ©μμ—κ² μΈμ¦μ„λ¥Ό λ°κΈ‰ν•©λ‹λ‹¤. SSL/TLS ν•Έλ“μ…°μ΄ν¬ κ³Όμ •μ—μ„ μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ—κ² μμ‹ μ μΈμ¦μ„λ¥Ό μ κ³µν•μ—¬ μ‹ λΆ°μ„±μ„ μ…μ¦ν•κ³ , ν΄λΌμ΄μ–ΈνΈλ” CAμ— μν•΄ μ„λ…λ μ„λ²„μ μΈμ¦μ„λ¥Ό κ²€μ¦ν•©λ‹λ‹¤. λ§μ•½ CAκ°€ μ‹ λΆ°ν•  μ μλ” κΈ°κ΄€μ΄λΌλ©΄, ν΄λΌμ΄μ–ΈνΈλ” ν•΄λ‹Ή μ„λ²„μ™€ μ•μ „ν•κ² ν†µμ‹ ν•  μ μλ‹¤κ³  νλ‹¨ν•κ² λ©λ‹λ‹¤.

## SSL/TLS ν•Έλ“μ…°μ΄ν¬ κ³Όμ •: λ³΄μ• μ—°κ²° μ„¤μ •μ ν•µμ‹¬

SSL/TLSλ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ— μ•μ „ν• ν†µμ‹ μ„ μ‹μ‘ν•κΈ° μ„ν•΄ **ν•Έλ“μ…°μ΄ν¬ κ³Όμ •**μ„ κ±°μΉ©λ‹λ‹¤. μ΄ κ³Όμ •μ€ λ§¤μ° λ³µμ΅ν•μ§€λ§, κ·Έ ν•µμ‹¬ λ‹¨κ³„λ¥Ό κΈ°μ μ μΌλ΅ λ¶„μ„ν•λ©΄ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.

1. **Client Hello**: ν΄λΌμ΄μ–ΈνΈκ°€ μ§€μ›ν•λ” μ•”νΈν™” μ•κ³ λ¦¬μ¦, TLS λ²„μ „, μ„Έμ… ID, λ‚μλ¥Ό μ„λ²„μ— λ³΄λƒ…λ‹λ‹¤.
2. **Server Hello**: μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ— μ‘λ‹µν•λ©°, μ‚¬μ©ν•  μ•”νΈν™” μ•κ³ λ¦¬μ¦κ³Ό TLS λ²„μ „μ„ μ„ νƒν•©λ‹λ‹¤.
3. **μ„λ²„ μΈμ¦μ„ μ „μ†΅**: μ„λ²„λ” μμ‹ μ κ³µκ°ν‚¤κ°€ ν¬ν•¨λ μΈμ¦μ„λ¥Ό ν΄λΌμ΄μ–ΈνΈμ— μ „μ†΅ν•©λ‹λ‹¤.
4. **ν‚¤ κµν™(Client Key Exchange)**: ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ κ³µκ°ν‚¤λ¥Ό μ‚¬μ©ν•΄ λ€μΉ­ν‚¤ μ•”νΈν™”μ— μ‚¬μ©ν•  **ν”„λ¦¬ λ§μ¤ν„° μ‹ν¬λ¦Ώ**μ„ μƒμ„±ν•κ³  μ„λ²„λ΅ μ „μ†΅ν•©λ‹λ‹¤.
5. **Change Cipher Spec**: ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ λ¨λ‘ μ΄μ  μ•”νΈν™”λ ν†µμ‹ μ„ μ‚¬μ©ν•  μ¤€λΉ„κ°€ λμ—μμ„ μ•λ¦¬λ” λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•©λ‹λ‹¤.
6. **Finished**: ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ κ°κ° μμ‹ μ΄ μ„ νƒν• μ•”νΈν™” λ°©μ‹κ³Ό ν‚¤λ¥Ό μ‚¬μ©ν•΄ λ³΄μ• μ„¤μ •μ„ μ™„λ£ν–μμ„ μ•λ¦¬λ” λ©”μ‹μ§€λ¥Ό μ£Όκ³ λ°›μµλ‹λ‹¤γ€5β€ sourceγ€‘γ€5β€ sourceγ€‘.

μ΄ κ³Όμ •μ€ μ–‘μΈ΅μ΄ μ•μ „ν•κ² ν‚¤λ¥Ό κµν™ν•κ³ , μ΄ν›„ ν†µμ‹ μ„ μ•”νΈν™”ν•λ” κ²ƒμ„ λ³΄μ¥ν•©λ‹λ‹¤. νΉν, RSAμ™€ κ°™μ€ λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”λ” μ΄ κ³Όμ •μ—μ„ λ§¤μ° μ¤‘μ”ν• μ—­ν• μ„ ν•©λ‹λ‹¤.

## SSL/TLSμ λ³΄μ• λ©”μ»¤λ‹μ¦: λ°μ΄ν„° λ³΄νΈμ™€ λ¬΄κ²°μ„± λ³΄μ¥

SSL/TLSλ” λ‹¤μκ³Ό κ°™μ€ μ£Όμ” λ³΄μ• λ©”μ»¤λ‹μ¦μ„ ν†µν•΄ λ°μ΄ν„°λ¥Ό λ³΄νΈν•©λ‹λ‹¤:

1. **μ•”νΈν™”(Encryption)**: λ°μ΄ν„°λ” λ€μΉ­ν‚¤λ΅ μ•”νΈν™”λμ–΄ μ „μ†΅ μ¤‘μ— λ„μ²­λ‹Ήν•λ”λΌλ„ λ‚΄μ©μ„ μ• μ μ—†μµλ‹λ‹¤.
2. **λ¬΄κ²°μ„± κ²€μ‚¬(Integrity Check)**: λ°μ΄ν„°κ°€ μ „μ†΅ μ¤‘ λ³€μ΅°λμ§€ μ•μ•λ”μ§€ ν™•μΈν•κΈ° μ„ν•΄ **λ©”μ‹μ§€ μΈμ¦ μ½”λ“(MAC)**λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.
3. **μΈμ¦(Authentication)**: μ„λ²„λ” CAμ— μν•΄ λ°κΈ‰λ μΈμ¦μ„λ¥Ό ν†µν•΄ μμ‹ μ μ‹ μ›μ„ μ¦λ…ν•λ©°, ν΄λΌμ΄μ–ΈνΈλ„ μ„λ²„μ μΈμ¦μ„λ¥Ό κ²€μ¦ν•μ—¬ ν”Όμ‹± κ³µκ²© λ“±μ„ λ°©μ§€ν•  μ μμµλ‹λ‹¤γ€5β€ sourceγ€‘.

## SSL/TLSμ ν™•μ¥μ„±: SNI(Server Name Indication) μ§€μ›

ν•λ‚μ IP μ£Όμ†μ— μ—¬λ¬ λ„λ©”μΈμ„ νΈμ¤ν…ν•λ” κ²½μ°, SSL/TLSμ—μ„λ” **SNI(Server Name Indication)** κΈ°μ μ„ μ‚¬μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈκ°€ μ—°κ²°ν•λ ¤λ” νΉμ • λ„λ©”μΈμ„ μ„λ²„μ— μ•λ¦½λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ—¬λ¬ λ„λ©”μΈμ΄ ν•λ‚μ μ„λ²„μ—μ„ SSL/TLS μ—°κ²°μ„ μ²λ¦¬ν•  μ μκ² λ©λ‹λ‹¤γ€5β€ sourceγ€‘.

## κ²°λ΅ 

SSL/TLSλ” ν„λ€ μΈν„°λ„·μ—μ„ λ³΄μ•μ„ μ κ³µν•λ” μ¤‘μ”ν• κΈ°μ μ…λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ°λ¦¬λ” μ•μ „ν• λ°μ΄ν„° μ „μ†΅, μΈμ¦ λ° λ°μ΄ν„° λ¬΄κ²°μ„± λ³΄μ¥μ„ μ‹¤ν„ν•  μ μμµλ‹λ‹¤. SSL/TLSλ” λ³µμ΅ν• μ•”νΈν™” μ•κ³ λ¦¬μ¦κ³Ό μΈμ¦ λ©”μ»¤λ‹μ¦μ„ μ‚¬μ©ν•μ—¬ μ°λ¦¬μ μ¨λΌμΈ ν™λ™μ„ λ³΄νΈν•λ©°, μ΄λ¥Ό μ¬λ°”λ¥΄κ² κµ¬ν„ν•κ³  κ΄€λ¦¬ν•λ” κ²ƒμ΄ μ¤‘μ”ν•©λ‹λ‹¤.

SSL/TLSμ κΈ°μ μ μΈ μ›λ¦¬λ¥Ό μ΄ν•΄ν•κ³ , μ΄λ¥Ό

 μ¬λ°”λ¥΄κ² κµ¬ν„ν•λ” κ²ƒμ€ λ¨λ“  μ›Ή κ°λ°μμ™€ μ‹μ¤ν… κ΄€λ¦¬μμ—κ² ν•„μμ μΈ μ—­λ‰μ…λ‹λ‹¤. μ•μΌλ΅λ„ μ΄μ™€ κ°™μ€ λ³΄μ• κΈ°μ μ΄ μ§€μ†μ μΌλ΅ λ°μ „ν•λ©°, μ°λ¦¬μ μΈν„°λ„· ν™κ²½μ„ λ”μ± μ•μ „ν•κ² λ§λ“¤ κ²ƒμ…λ‹λ‹¤.

λ” κ¶κΈν• μ μ΄ μκ±°λ‚ μ¶”κ°€μ μΈ λ‚΄μ©μ΄ ν•„μ”ν•λ‹¤λ©΄ μ–Έμ λ“ μ§€ μ§λ¬Έν•΄ μ£Όμ„Έμ”!

---

λ€μΉ­ν‚¤λ€, μ•”νΈν™”μ™€ λ³µνΈν™”μ— λ™μΌν• ν‚¤λ¥Ό μ‚¬μ©ν•λ” λ°©μ‹μ…λ‹λ‹¤. κ°€μ¥ λ„λ¦¬ μ‚¬μ©λλ” λ€μΉ­ν‚¤ μ•κ³ λ¦¬μ¦μΌλ΅λ” AES(Advanced Encryption Standard)κ°€ μμµλ‹λ‹¤. AESλ” λΉ λ¥΄κ³  μ•μ „ν• μ•”νΈν™” λ°©μ‹μΌλ΅, 128λΉ„νΈ, 192λΉ„νΈ, 256λΉ„νΈ ν‚¤λ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤. SSL/TLSμ—μ„λ” μ„Έμ… μ•”νΈν™”λ¥Ό μ„ν•΄ λ€μΉ­ν‚¤ μ•”νΈν™”λ¥Ό μ‚¬μ©ν•λ©°, μ΄ λ• μƒμ„±λ **λ§μ¤ν„° μ‹ν¬λ¦Ώ(Master Secret)**μ΄ λ°μ΄ν„° μ•”νΈν™”μ— μ‚¬μ©λ©λ‹λ‹¤.