# 싱글톤 패턴

## 목적

- 하나의 인스턴스를 여러 모듈이 공유.
  - 새로운 인스턴스 생성을 위한 자원을 절약 할 수 있음.
  - 생성 후 방치되거나 낭비되는 인스턴스가 없음.
- 전역객체를 제공 할 수 있음.
- 공유된 리소스에 동시접근하는것을 원천적으로 제어할 수 있음.

## 단점

- 예기치 못하게 값이 변경될 수 있음.
- TDD의 단위테스트에서, 연관된 다른 모듈의 테스트에 영향을 끼칠 수 있음.
- 기타 독립적인 인스턴스가 필요한 경우에 곤란함.
- **의존성이 증가하고, 복잡도와 결합도가 높아질 수 있음.**

## 대응

- 의존성 주입을 통해 모듈간의 결합을 느슨하게 조정. -> 디커플링
  - 모듈 교체가 쉬워짐. -> 테스트가 용이함
  - 마이그레이션이 용이함.
  - 모듈간 관계와 의도를 명확히 할 수 있음.
- **그러나 지나친 파편화로 복잡도가 증가하고, 런타임 패널티가 생기기도 함.**

> **의존성 주입 원칙**  
> 상위모듈은 하위모듈에서 어떠한 것도 가져와선 안되며, 상하 모두 추상화에 의존해야 함.
> 또한 추상화도 세부사항에 의존하면 안됨.
