# Nodejs 디자인 패턴 바이블 독서 정리

## Chapter 01. Node.js 플랫폼

- 주요개념
  - Node.js의 철학 "Node way"
  - Reactor 패턴 - Node.js의 비동기 이벤트 주도 아키텍처의 핵심 매커니즘
  - 브라우저와 다르게, 서버에서 동작하는 Javascript의 의미

### 1-1 Node.js 철학

  1-1-1 경량 코어

- 최소한의 기능세트를 제공하고, 이외의 공간에 유저랜드(유저스페이스)를 제공하여 사용자들이 스스로 생태계를 만들 수 있게 한다.
- 엄격하고 느린 진화 대신, 기민하고 창의적인 진화를 통해 생태계를 발전시킨다.

  1-1-2 경량 모듈  

- 작은 모듈의 장점
  - 이해하기 쉽고, 사용하기 쉽다.
  - 테스트 및 유지보수가 쉽다.
  - 사이즈가 작아 브라우저에서 사용하기 좋다.

  1-1-3 작은 외부 인터페이스

- 최소한의 기능 노출
- 확장보다는, 사용을 위한 모듈: 복잡도를 늘리지 않고, 기능을 추가할 수 있게 한다.
- 클래스보다는 함수 노출을 선호한다.

  1-1-4 간결함과 실용주의
- KISS(Keep It Simple, Stupid)
- 완벽하게 기능하지만 엄청난 노력을 들이는 것 보다, 타협 가능한 복잡성을 가진 빠른 작업이 더 좋다.

### 1-2 Node.js는 어떻게 작동하는가

- 리액터 패턴
- 단일 스레드
- 논 블로킹 I/O

  1-2-1 I/O는 느리다

  1-2-2 블로킹 I/O

  1-2-3 논블로킹 I/O

  1-2-4 이벤트 디멀티플렉싱

- 신호가 원래의 구성요소로 다시 분할되는 작업
- 이를 통해 단일 스레드가 여러 작업을 동시에 처리할 수 있게 된다.
- 여러 스레드에 분산되는 대신 단일 스레드에서 시간에 따라 분산된다.
- 전체 유휴시간 감소에 따른 성능 향상 이점이 있다.
- 레이스 컨디션, 다중 스레드 동기화 문제를 피할 수 있다.

  1-2-5 리액터 패턴

1. 이벤트 디멀티플렉서에 요청하여 IO작업 생성
2. IO작업 완료시 이벤트 작업을 큐에 추가
3. 이벤틀 루프가 큐를 순회
4. 각 이벤트의 핸들러가 호출됨
5. 완료시 이벤트 루프에 제어권 반환 / 혹은 비동기 작업 요청
6. 이벤트 루프가 종료될 때까지 반복

  1-2-6 Libuv, Node.js의 I/O엔진

- Libuv: 다수 운영체제의 디멀티플렉싱을 위해 추상화된 C 라이브러리

  1-2-7 Node.js를 위한 구성
- Libuv 외에도 바인딩 세트, V8, 코어 API등이 있음.

### 1-3 Node.js에서의 Javascript

  1-3-1 최신 Javascript를 실행시켜라

- 브라우저와 다르게 제약없이 최신 JS를 실행할 수 있음

  1-3-2 모듈 시스템
  - CommonJS vs ES 모듈

  1-3-3 운영체제 기능에 대한 모든 접근
- fs, crypto, process 등 다양한 모듈을 통해 운영체제의 기능에 접근 할 수 있음

  1-3-4 네이티브 코드 실행
- 이외에도 C/C++등의 레거시를 작은 노력으로도 도입 할 수 있음.

### Chapter 01 요약

- Node.js의 철학은 최소한의 코어로 더 작고 간단한 필요 기능만을 노출하는 실용주의에 기반한다.
